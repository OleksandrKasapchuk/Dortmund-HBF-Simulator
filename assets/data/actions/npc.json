{
  "act.npc.ryzhyi.take_money": {
    "type": "system.composite",
    "actions": [
      { "type": "inventory.add", "id": "money", "amount": 20 },
      { "type": "dialogue.set", "npc": "ryzhyi", "node": "money.completed" }
    ]
  },

  "act.npc.jason.give_money": {
    "type": "system.composite",
    "actions": [
      { "type": "inventory.add", "id": "money", "amount": 20 },
      { "type": "quest.start", "id": "jason.tour"},
      { "type": "quest.start", "id": "jason.smalltalk"},
      { "type": "dialogue.set", "npc": "jason", "node": "tour.active" }
    ]
  },
  "act.npc.talahon2.give_vape": {
    "type": "inventory.check",
    "itemId": "vape",
    "item": "vape",
    "action": {
      "type": "system.composite", "actions": [
        {"type": "inventory.remove", "id": "vape", "amount": "1"},
        {"type": "dialogue.set", "npc": "talahon2", "node": "vape.completed"}
      ]
    }
  },

  "act.npc.police.check": {
    "type": "inventory.check",
    "items": ["grass", "joint", "vape"],
    "onSuccess": {
      "type": "system.composite",
      "actions": [
        { "type": "inventory.remove", "items": ["grass", "joint", "vape"], "amount": 9999 },
        { "type": "ui.message", "key": "message.police.stuffLost" }
      ]
    },
    "onFail": {"type": "ui.message", "key": "message.police.checkPassed"}
  },

  "act.npc.chikita.craft": {
    "type": "inventory.check", "itemId": "grass",
    "onFail": { "type": "ui.notEnoughMessage", "item": "grass" },
    "action": {
      "type": "inventory.check", "itemId": "pape",
      "onFail": { "type": "ui.notEnoughMessage", "item": "pape" },
      "action": {
        "type": "system.composite",
        "actions": [
          { "type": "inventory.remove", "id": "grass" },
          { "type": "inventory.remove", "id": "pape" },
          { "type": "player.lockMovement", "locked": true },
          { "type": "audio.playSound", "id": "kosyak" },
          {
            "type": "system.timer", "delay": 1.0,
            "action": {
              "type": "system.composite",
              "actions": [
                { "type": "inventory.add", "id": "joint" },
                { "type": "player.lockMovement", "locked": false }
              ]
            }
          }
        ]
      }
    }
  },
  "act.npc.summoned_police.force_dialogue": { "type": "dialogue.force", "npc": "summoned_police" }
}
